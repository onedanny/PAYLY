*{ box-sizing:border-box; }
:root{
  --bg:#0f172a; --panel:#111827; --panel-2:#0b1220;
  --text:#e5e7eb; --muted:#9ca3af;
  --teal:#06b6d4; --teal-600:#0891b2;
  --indigo:#7c3aed; --indigo-600:#6d28d9;
  --coral:#fb7185; --ok:#10b981; --warn:#f59e0b; --danger:#ef4444;
  --radius:16px;
  --shadow:0 15px 35px rgba(0,0,0,.35), 0 4px 12px rgba(0,0,0,.25);
  --shadow-soft:0 10px 24px rgba(0,0,0,.25);
  --ring:0 0 0 3px rgba(124,58,237,.25);
  --gap:12px;
}
body{
  margin:0; color:var(--text);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(124,58,237,.35), transparent 60%),
    radial-gradient(1200px 600px at 110% 10%, rgba(6,182,212,.25), transparent 60%),
    linear-gradient(180deg,#0b1220,#0f172a 60%);
}
/* Encabezado y navegación */
.encabezado{
  display:flex; align-items:center; gap:14px;
  padding:18px 20px; max-width:1100px; margin:20px auto 12px;
  background:linear-gradient(180deg, rgba(17,24,39,.85), rgba(11,18,32,.85));
  border-radius:24px; -webkit-border-radius:24px; -moz-border-radius:24px;
  box-shadow:var(--shadow);
  border:1px solid rgba(124,58,237,.25);
  backdrop-filter:saturate(130%) blur(6px);
  text-shadow: 0 1px 2px rgba(0,0,0,.35); /* text-shadow */
}
.logo{--size:44px; width:var(--size); height:var(--size); transform:rotate(45deg); position:relative; filter:drop-shadow(0 10px 20px rgba(124,58,237,.45))}
.logo .nucleo{width:100%; height:100%; border-radius:10%;
  background:linear-gradient(145deg,var(--indigo),var(--teal));
  box-shadow:inset -10px -10px 20px rgba(0,0,0,.25), inset 10px 10px 18px rgba(255,255,255,.08), 0 10px 18px rgba(6,182,212,.25)}
.marca h1{margin:0;font-size:22px}
.marca small{display:block;color:var(--muted)}

.pestanas{margin-left:auto; display:flex; gap:6px; flex-wrap:wrap}
.pestanas a.pestana{
  border:1px solid rgba(124,58,237,.35);
  padding:10px 14px; border-radius:12px; -webkit-border-radius:12px; -moz-border-radius:12px;
  background:rgba(124,58,237,.12);
  color:#fff; font-weight:600; text-decoration:none;
  display:inline-block;
  box-shadow: 0 3px 8px rgba(0,0,0,.1); -webkit-box-shadow:0 3px 8px rgba(0,0,0,.1); -moz-box-shadow:0 3px 8px rgba(0,0,0,.1);
}
.pestanas a.pestana:link{ color:#fff; }
.pestanas a.pestana:visited{ opacity:.98; }
.pestanas a.pestana:hover{ transform: translateY(-2px) scale(1.02); -webkit-transform: translateY(-2px) scale(1.02); -moz-transform: translateY(-2px) scale(1.02); }
.pestanas a.pestana:active{ transform: translateY(0) scale(.98) skew(-1deg); -webkit-transform: translateY(0) scale(.98) skew(-1deg); -moz-transform: translateY(0) scale(.98) skew(-1deg); }
.pestanas a.pestana.activa{
  background:linear-gradient(180deg, rgba(124,58,237,.35), rgba(6,182,212,.3));
  border-color:rgba(6,182,212,.55); box-shadow:var(--shadow-soft);
}

/* Layout */
.principal{max-width:1100px; margin:0 auto 80px; padding:0 6px}
.panel{
  margin-top:16px; padding:18px; border-radius:var(--radius); -webkit-border-radius:var(--radius); -moz-border-radius:var(--radius);
  background:linear-gradient(180deg, rgba(17,24,39,.95), rgba(11,18,32,.95));
  border:1px solid rgba(124,58,237,.22); box-shadow:var(--shadow);
}
.titulo-seccion{display:flex; align-items:center; justify-content:space-between; gap:var(--gap); margin-bottom:12px}
.etiqueta{font-size:12px; padding:4px 8px; border-radius:999px; border:1px solid rgba(124,58,237,.35); color:var(--muted)}

.fila{display:flex; gap:var(--gap); margin-bottom:var(--gap); flex-wrap:wrap}
.fila:last-child{margin-bottom:0}
.entrada,.seleccion{background:#0b1324; border:1px solid rgba(124,58,237,.25); padding:10px 12px; border-radius:12px; outline:none; width:100%; color:var(--text)}
.entrada:focus,.seleccion:focus{box-shadow:var(--ring); border-color:rgba(124,58,237,.55)}
.rejilla-3{display:grid; grid-template-columns:1.1fr 1fr 1fr; gap:var(--gap)}
.rejilla-2{display:grid; grid-template-columns:1fr 1fr; gap:var(--gap)}
.rejilla-4{display:grid; grid-template-columns:repeat(4,1fr); gap:var(--gap)}
@media screen and (max-width:980px){ .rejilla-3{grid-template-columns:1fr} .rejilla-4{grid-template-columns:1fr 1fr} }
@media all and (max-width:600px){ .rejilla-2{grid-template-columns:1fr} }

.boton{border:none; padding:10px 14px; border-radius:12px; -webkit-border-radius:12px; -moz-border-radius:12px; cursor:pointer; color:white; background:linear-gradient(180deg,var(--teal),var(--teal-600)); box-shadow:var(--shadow-soft)}
.boton.secundario{background:linear-gradient(180deg,var(--indigo),var(--indigo-600))}
.boton.fantasma{background:transparent; border:1px solid rgba(124,58,237,.35); color:var(--text)}
.boton.peligro{background:linear-gradient(180deg,var(--danger),#b91c1c)}
.boton.simular{background:linear-gradient(180deg,var(--warn),#b45309)}

.grupo-entrada{position:relative; width:100%}
.prefijo{
  position:absolute; left:10px; top:50%; transform:translateY(-50%);
  color:#9ca3af; pointer-events:none; font-size:14px
}
.con-prefijo{padding-left:72px}

/* Tabla */
.tabla{width:100%; border-collapse:separate; border-spacing:0 10px}
.tabla thead th{text-align:left; color:var(--muted); font-size:12px; padding:4px 10px}
.fila-dato{background:#0b1324; border:1px solid rgba(124,58,237,.25); border-radius:14px; overflow:hidden; box-shadow:var(--shadow-soft)}
.fila-dato td{padding:12px 10px; vertical-align:middle}
.monto{font-weight:700; text-align:right}
.monto.ingreso{color:var(--ok)}
.monto.gasto{color:var(--coral)}
.celda-acciones{text-align:right}
.acciones{display:flex; gap:8px; justify-content:flex-end}

/* Ahorro */
#pagina-ahorro .panel{background:linear-gradient(180deg,#0e1324,#0a1020)}
.lista-metas{display:grid; grid-template-columns:1fr; gap:14px}
.tarjeta-meta{
  display:grid; grid-template-columns:auto 1fr auto; gap:14px; align-items:center;
  background:#0b1324; border:1px solid rgba(124,58,237,.25); border-radius:18px; padding:14px; box-shadow:var(--shadow-soft)
}
.circulo{
  --size:110px; --pct:0;
  width:var(--size); height:var(--size); border-radius:50%;
  background:conic-gradient(var(--teal) calc(var(--pct)*1%), rgba(124,58,237,.18) 0);
  padding:8px;
}
.circulo-interno{
  width:100%; height:100%; border-radius:50%; background:#0b1324; display:grid; place-items:center;
  border:2px solid rgba(124,58,237,.25); overflow:hidden; position:relative;
}
.circulo-interno img{width:86%; height:86%; object-fit:cover; border-radius:50%}
.info-meta .nombre{font-weight:700}
.info-meta .meta-detalle{color:var(--muted); font-size:12px}
.deposito{display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-top:6px}
.pulso{animation:pulso .6s ease}
@keyframes pulso{0%{transform:scale(1)} 50%{transform:scale(1.04)} 100%{transform:scale(1)}}

.acciones-meta{display:flex; flex-direction:column; gap:8px; width:180px; align-items:stretch}
.acciones-meta .boton{width:100%}
@media (max-width:520px){ .acciones-meta{width:100%} }

/* Modal */
.modal-fondo{position:fixed; inset:0; background:rgba(2,6,23,.6); display:none; align-items:center; justify-content:center; padding:16px; z-index:50}
.modal{background:linear-gradient(180deg,#101828,#0b1324); border:1px solid rgba(124,58,237,.35); border-radius:18px; width:min(560px,96vw); padding:16px; box-shadow:var(--shadow)}
.modal header{margin:0 0 10px; padding:0; background:transparent; border:none; box-shadow:none}
.modal header h3{margin:0; font-size:18px}
.modal footer{display:flex; justify-content:flex-end; gap:8px; margin-top:12px}
.modal-fondo[aria-hidden="false"]{display:flex}
.oculto{display:none !important}


/* Grupo fecha en filtros */
.grupo-fecha{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.grupo-fecha .muted{
  font-size:11px;
}

/* Contenedor del mapa de Google */
.contenedor-mapa{
  border-radius:16px;
  overflow:hidden;
  box-shadow:var(--shadow-soft);
  border:1px solid rgba(124,58,237,.35);
  background:#020617;
}
.contenedor-mapa iframe{
  width:100%;
  height:260px;
  border:0;
}

/* Chatbot flotante */
#chatbot-contenedor{
  position:fixed;
  right:16px;
  bottom:16px;
  z-index:70;
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:8px;
}

.boton-chatbot{
  border:none;
  border-radius:999px;
  padding:10px 16px;
  font-weight:600;
  cursor:pointer;
  background:linear-gradient(180deg,var(--indigo),var(--indigo-600));
  color:white;
  box-shadow:var(--shadow-soft);
}

.ventana-chatbot{
  width:280px;
  max-height:360px;
  border-radius:18px;
  background:linear-gradient(180deg,#020617,#020617);
  border:1px solid rgba(124,58,237,.4);
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

.encabezado-chatbot{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 12px;
  background:linear-gradient(180deg,rgba(124,58,237,.9),rgba(37,99,235,.9));
  color:white;
  font-size:14px;
}

.boton-cerrar-chatbot{
  border:none;
  background:transparent;
  color:white;
  font-size:18px;
  cursor:pointer;
}

.chatbot-mensajes{
  padding:10px;
  flex:1;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:13px;
}

.chatbot-mensaje{
  padding:8px 10px;
  border-radius:12px;
  max-width:90%;
}

.chatbot-mensaje.bot{
  align-self:flex-start;
  background:rgba(15,23,42,.9);
  border:1px solid rgba(148,163,184,.6);
}

.chatbot-mensaje.usuario{
  align-self:flex-end;
  background:linear-gradient(180deg,var(--teal),var(--teal-600));
  color:white;
}

.chatbot-formulario{
  display:flex;
  gap:6px;
  padding:8px;
  border-top:1px solid rgba(30,64,175,.8);
  background:rgba(15,23,42,.95);
}

.entrada-chatbot{
  flex:1;
  border-radius:999px;
  border:1px solid rgba(148,163,184,.7);
  background:#020617;
  color:var(--text);
  padding:6px 10px;
  font-size:13px;
}

.boton-enviar-chatbot{
  border:none;
  border-radius:999px;
  padding:6px 12px;
  font-size:13px;
  cursor:pointer;
  background:linear-gradient(180deg,var(--teal),var(--teal-600));
  color:white;
}

/* Ajuste: en pantallas pequeñas, mover ligeramente el chatbot */
@media all and (max-width:600px){
  #chatbot-contenedor{
    right:10px;
    bottom:10px;
  }
}
